(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2166831a"],{"8b08":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-card",{staticClass:"box-card",staticStyle:{"margin-bottom":"10px"},attrs:{shadow:"hover"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("订单信息")])]),a("el-form",{ref:"orderDetail",attrs:{model:e.orderDetail,"label-width":"120px",readonly:e.formDisable}},[a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"用户"}},[a("el-input",{attrs:{readonly:e.formDisable},model:{value:e.orderDetail.username,callback:function(t){e.$set(e.orderDetail,"username",t)},expression:"orderDetail.username"}})],1)],1),a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"订单号"}},[a("el-input",{attrs:{readonly:e.formDisable},model:{value:e.orderDetail.no,callback:function(t){e.$set(e.orderDetail,"no",t)},expression:"orderDetail.no"}})],1)],1),a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"订单状态"}},[a("el-input",{attrs:{readonly:e.formDisable},model:{value:e.orderDetail.status,callback:function(t){e.$set(e.orderDetail,"status",t)},expression:"orderDetail.status"}})],1)],1)],1),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"订单总金额"}},[a("el-input",{attrs:{readonly:e.formDisable},model:{value:e.orderDetail.total_amount,callback:function(t){e.$set(e.orderDetail,"total_amount",t)},expression:"orderDetail.total_amount"}})],1)],1),a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"是否关闭"}},[a("el-input",{attrs:{readonly:e.formDisable},model:{value:e.orderDetail.closed,callback:function(t){e.$set(e.orderDetail,"closed",t)},expression:"orderDetail.closed"}})],1)],1),a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"订单备注"}},[a("el-input",{attrs:{readonly:e.formDisable},model:{value:e.orderDetail.remark,callback:function(t){e.$set(e.orderDetail,"remark",t)},expression:"orderDetail.remark"}})],1)],1)],1),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"支付方式"}},[a("el-input",{attrs:{readonly:e.formDisable},model:{value:e.orderDetail.payment_method,callback:function(t){e.$set(e.orderDetail,"payment_method",t)},expression:"orderDetail.payment_method"}})],1)],1),a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"支付交易号"}},[a("el-input",{attrs:{readonly:e.formDisable},model:{value:e.orderDetail.payment_no,callback:function(t){e.$set(e.orderDetail,"payment_no",t)},expression:"orderDetail.payment_no"}})],1)],1),a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"支付时间"}},[a("el-input",{attrs:{readonly:e.formDisable},model:{value:e.orderDetail.paid_at,callback:function(t){e.$set(e.orderDetail,"paid_at",t)},expression:"orderDetail.paid_at"}})],1)],1)],1),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"是否退款"}},[a("el-input",{attrs:{readonly:e.formDisable},model:{value:e.orderDetail.refund_status,callback:function(t){e.$set(e.orderDetail,"refund_status",t)},expression:"orderDetail.refund_status"}})],1)],1),a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"退款单号"}},[a("el-input",{attrs:{readonly:e.formDisable},model:{value:e.orderDetail.refund_no,callback:function(t){e.$set(e.orderDetail,"refund_no",t)},expression:"orderDetail.refund_no"}})],1)],1)],1),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"物流状态"}},[a("el-input",{attrs:{readonly:e.formDisable},model:{value:e.orderDetail.ship_status,callback:function(t){e.$set(e.orderDetail,"ship_status",t)},expression:"orderDetail.ship_status"}})],1)],1),a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"物流数据"}},[a("el-input",{attrs:{readonly:e.formDisable},model:{value:e.orderDetail.ship_data,callback:function(t){e.$set(e.orderDetail,"ship_data",t)},expression:"orderDetail.ship_data"}})],1)],1),a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"是否评价"}},[a("el-input",{attrs:{readonly:e.formDisable},model:{value:e.orderDetail.reviewed,callback:function(t){e.$set(e.orderDetail,"reviewed",t)},expression:"orderDetail.reviewed"}})],1)],1)],1),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"收件人"}},[a("el-input",{attrs:{readonly:e.formDisable},model:{value:e.orderDetail.address.contact_name,callback:function(t){e.$set(e.orderDetail.address,"contact_name",t)},expression:"orderDetail.address.contact_name"}})],1)],1),a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"联系电话"}},[a("el-input",{attrs:{readonly:e.formDisable},model:{value:e.orderDetail.address.contact_phone,callback:function(t){e.$set(e.orderDetail.address,"contact_phone",t)},expression:"orderDetail.address.contact_phone"}})],1)],1),a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"收货地址"}},[a("el-input",{attrs:{readonly:e.formDisable},model:{value:e.addressAttribute,callback:function(t){e.addressAttribute=t},expression:"addressAttribute"}})],1)],1)],1)],1)],1),a("el-card",{staticClass:"box-card",attrs:{shadow:"hover"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("商品信息")])]),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.orderDetail.items,"row-style":{height:"10px"},border:"","header-cell-style":{background:"#ebeef5"}}},[a("el-table-column",{attrs:{type:"index","header-align":"center",align:"center",label:"序号",width:"60"}}),a("el-table-column",{attrs:{"header-align":"center",align:"center",prop:"product.product_name",label:"商品名称"}}),a("el-table-column",{attrs:{"header-align":"center",align:"center",prop:"product.short_description",label:"简短介绍"}}),a("el-table-column",{attrs:{"header-align":"center",align:"center",label:"商品缩略图"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[a("el-image",{staticStyle:{width:"100px",height:"100px"},attrs:{src:r.product.thumbnail,fit:"scale-down"},on:{click:function(t){return e.previewImgAction(r.product.thumbnail)}}})]}}])}),a("el-table-column",{attrs:{"header-align":"center",align:"center",prop:"amount",label:"数量"}}),a("el-table-column",{attrs:{"header-align":"center",align:"center",prop:"product.price",label:"售 价"}}),a("el-table-column",{attrs:{"header-align":"center",align:"center",prop:"price",label:"实付价格"}}),a("el-table-column",{attrs:{"header-align":"center",align:"center",prop:"rating",label:"商品评分"}}),a("el-table-column",{attrs:{"header-align":"center",align:"center",prop:"review_count",label:"评价数量"}})],1)],1),a("el-dialog",{attrs:{title:"图片预览",visible:e.previewImgDialogVisible,width:"50%"},on:{"update:visible":function(t){e.previewImgDialogVisible=t}}},[a("el-image",{staticStyle:{width:"100%"},attrs:{src:e.previewImg}})],1)],1)},l=[],o=a("b0d9"),s={name:"ViewOrUpdate",data:function(){return{orderDetail:{address:{contact_name:"",contact_phone:""}},orderNo:"",formDisable:!0,username:"",previewImg:"",previewImgDialogVisible:!1}},computed:{addressAttribute:function(){var e=this.orderDetail.address;return e.province+e.city+e.district+e.address}},created:function(){this.getRequest(),this.getOrderDetail()},methods:{getRequest:function(){this.orderNo=this.$route.params.no,this.username=this.$route.params.username},getOrderDetail:function(){var e=this;Object(o["b"])(this.orderNo).then((function(t){switch(e.orderDetail=t.data,e.orderDetail.username=e.username,e.orderDetail.status){case 0:e.orderDetail.status="待付款";break;case 1:e.orderDetail.status="已付款";break;case-1:e.orderDetail.status="付款失败";break;case-2:e.orderDetail.status="取消订单"}switch(e.orderDetail.closed?e.orderDetail.closed="已关闭":e.orderDetail.closed="未关闭",e.orderDetail.refund_status){case 1:e.orderDetail.refund_status="未退款";break;case-1:e.orderDetail.refund_status="已退款"}switch("null"===e.orderDetail.payment_method&&(e.orderDetail.payment_method=""),e.orderDetail.reviewed?e.orderDetail.reviewed="已评价":e.orderDetail.reviewed="未评价",e.orderDetail.ship_status){case 0:e.orderDetail.ship_status="已签收";break;case 1:e.orderDetail.ship_status="已发货";break;case-1:e.orderDetail.ship_status="未发货"}}))},formatterStatus:function(){return console.log("sfdsf"),"时刻提防"},previewImgAction:function(e){this.previewImg=e,this.previewImgDialogVisible=!0}}},i=s,n=a("2877"),d=Object(n["a"])(i,r,l,!1,null,"fee386f4",null);t["default"]=d.exports},b0d9:function(e,t,a){"use strict";a.d(t,"a",(function(){return l})),a.d(t,"c",(function(){return o})),a.d(t,"b",(function(){return s}));var r=a("b775");function l(e){return Object(r["a"])({url:"admin/order",method:"get",params:e})}function o(e){return Object(r["a"])({url:"admin/order/"+e.id,method:"post",data:e})}function s(e){return Object(r["a"])({url:"admin/order/"+e,method:"get"})}}}]);