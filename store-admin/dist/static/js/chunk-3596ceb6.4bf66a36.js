(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3596ceb6"],{"09f4":function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),Math.easeInOutQuad=function(e,t,a,i){return e/=i/2,e<1?a/2*e*e+t:(e--,-a/2*(e*(e-2)-1)+t)};var i=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}();function l(e){document.documentElement.scrollTop=e,document.body.parentNode.scrollTop=e,document.body.scrollTop=e}function r(){return document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop}function s(e,t,a){var s=r(),n=e-s,o=20,u=0;t="undefined"===typeof t?500:t;var c=function e(){u+=o;var r=Math.easeInOutQuad(u,s,n,t);l(r),u<t?i(e):a&&"function"===typeof a&&a()};c()}},5795:function(e,t,a){"use strict";var i=a("f00b"),l=a.n(i);l.a},e382:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container user-container"},[a("el-card",{staticClass:"box-card filter-container"},[a("el-form",{attrs:{inline:!0,model:e.listQuery}},[a("el-form-item",{attrs:{label:"用户名"}},[a("el-input",{staticClass:"filter-item",staticStyle:{width:"240px"},attrs:{placeholder:"请输入查询的账号名称",clearable:""},model:{value:e.listQuery.username,callback:function(t){e.$set(e.listQuery,"username",t)},expression:"listQuery.username"}})],1),a("el-form-item",[a("el-button",{staticClass:"filter-item filter-search",attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.handleFilter}},[e._v(" 查询 ")])],1)],1)],1),a("el-card",{staticClass:"box-card box-card-content"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],attrs:{data:e.userlist,border:"",fit:"","highlight-current-row":"",height:e.tableHeight<500?500:e.tableHeight,"header-cell-style":{background:"#ebeef5"}},on:{"row-click":e.userProfileDiag}},[a("el-table-column",{attrs:{type:"index",align:"center",label:"序号",width:"80"}}),a("el-table-column",{attrs:{align:"center",label:"用户名"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.username))])]}}])}),a("el-table-column",{attrs:{align:"center",label:"头像"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("img",{staticClass:"user-avatar",attrs:{src:e.row.avatar,alt:"avatar"}})]}}])}),a("el-table-column",{attrs:{align:"center","show-overflow-tooltip":"",label:"姓名"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.name))])]}}])}),a("el-table-column",{attrs:{align:"center","show-overflow-tooltip":"",label:"邮箱"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.email))])]}}])}),a("el-table-column",{attrs:{align:"center","show-overflow-tooltip":"",label:"电话"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.phone))])]}}])}),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row,l=t.$index;return[a("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-edit",circle:""},on:{click:function(t){return e.editUserButton(i)}}}),a("el-button",{attrs:{size:"small",type:"danger",icon:"el-icon-delete",circle:""},on:{click:function(t){return e.deleteUserButton(i,l)}}})]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.listQuery.page,limit:e.listQuery.page_limit},on:{"update:page":function(t){return e.$set(e.listQuery,"page",t)},"update:limit":function(t){return e.$set(e.listQuery,"page_limit",t)},pagination:e.getList}})],1),a("el-dialog",{attrs:{title:"用户详细信息",visible:e.dialogTableVisible},on:{"update:visible":function(t){e.dialogTableVisible=t}}},[a("el-form",{staticClass:"form-inline",attrs:{inline:!0,model:e.userDetail,disabled:"true","label-position":"right","label-width":"100px",size:"medium"}},[a("el-form-item",{attrs:{label:"用户名"}},[a("el-input",{model:{value:e.userDetail.username,callback:function(t){e.$set(e.userDetail,"username",t)},expression:"userDetail.username"}})],1),a("el-form-item",{attrs:{label:"姓名"}},[a("el-input",{model:{value:e.userDetail.name,callback:function(t){e.$set(e.userDetail,"name",t)},expression:"userDetail.name"}})],1),a("el-form-item",{attrs:{label:"性别"}},[a("el-input",{model:{value:e.userDetail.profile.sex,callback:function(t){e.$set(e.userDetail.profile,"sex",t)},expression:"userDetail.profile.sex"}})],1),a("el-form-item",{attrs:{label:"年龄"}},[a("el-input",{model:{value:e.userDetail.profile.age,callback:function(t){e.$set(e.userDetail.profile,"age",t)},expression:"userDetail.profile.age"}})],1),a("el-form-item",{attrs:{label:"电话号码"}},[a("el-input",{model:{value:e.userDetail.phone,callback:function(t){e.$set(e.userDetail,"phone",t)},expression:"userDetail.phone"}})],1),a("el-form-item",{attrs:{label:"邮箱"}},[a("el-input",{model:{value:e.userDetail.email,callback:function(t){e.$set(e.userDetail,"email",t)},expression:"userDetail.email"}})],1),a("el-form-item",{attrs:{label:"生日"}},[a("el-input",{model:{value:e.userDetail.profile.birthday,callback:function(t){e.$set(e.userDetail.profile,"birthday",t)},expression:"userDetail.profile.birthday"}})],1),a("el-form-item",{attrs:{label:"邮编"}},[a("el-input",{model:{value:e.userDetail.profile.zip,callback:function(t){e.$set(e.userDetail.profile,"zip",t)},expression:"userDetail.profile.zip"}})],1),a("el-form-item",{attrs:{label:"地址"}},[a("el-input",{staticStyle:{width:"400px"},model:{value:e.userDetail.profile.fullAddress,callback:function(t){e.$set(e.userDetail.profile,"fullAddress",t)},expression:"userDetail.profile.fullAddress"}})],1)],1)],1)],1)},l=[],r=(a("c975"),a("b0c0"),a("d3b7"),a("25f0"),a("5530")),s=a("2f62"),n=a("c24f"),o=a("333d"),u={name:"User",components:{Pagination:o["a"]},data:function(){return{listLoading:!1,userlist:[],listQuery:{page:1,page_limit:20,username:""},total:0,dialogTableVisible:!1,userDetail:{avatar:"",created_at:"",email:"",email_verified_at:"",hash_id:"",name:"",password_answer:"",password_question_id:"",phone:"",profile:{fullAddress:"",age:"",birthday:"",created_at:"",id:"",phone:"",real_name:"",sex:"",updated_at:"",user_id:"",zip:"",province:"",city:"",district:"",address:""}}}},computed:Object(r["a"])({},Object(s["d"])({tableHeight:function(e){return e.screenHeight-400}})),watch:{userDetail:function(e,t){var a=e.profile.sex;switch(a.toString()){case"0":return this.userDetail.profile.sex="女",this.userDetail.profile.sex;case"1":return this.userDetail.profile.sex="男",this.userDetail.profile.sex;case"-1":return this.userDetail.profile.sex="其他",this.userDetail.profile.sex}}},beforeRouteEnter:function(e,t,a){var i=["CreateUser","EditUser"];i.indexOf(t.name)>-1&&(e.meta.isBack=!0),a()},activated:function(){var e=this;e.$route.meta.isBack&&e.getUserList(),e.$route.meta.isBack=!1},created:function(){var e=this;e.getList()},methods:{getList:function(){var e=this,t=e.listQuery;e.listLoading=!0,Object(n["c"])(t).then((function(a){var i=a.data;console.log(i),i&&i.data&&i.data.length>0?(e.userlist=i.data,e.total=i.total):i&&i.data&&0===i.data.length&&(t.page>1?(t.page--,e.getList()):(e.userlist=[],e.total=0,e.$message({message:"暂无用户信息",type:"info"})))})).finally((function(){e.listLoading=!1}))},handleFilter:function(){var e=this;e.listQuery.page=1,e.getList()},editUserButton:function(e){var t=this,a={isEdit:"edit"};t.$router.push({path:"/user/edit/"+e.hash_id,query:a})},deleteUserButton:function(e,t){var a=this;a.$confirm("是否删除".concat(e.username,"用户?"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var t={username:e.username};Object(n["a"])(t).then((function(e){a.$message({type:"success",message:"删除成功!"}),a.getList()})).catch((function(){a.$message({type:"info",message:"删除失败"})}))})).catch((function(){a.$message({type:"info",message:"已取消删除"})}))},userProfileDiag:function(e){this.userDetail=e;var t=e.profile;this.userDetail.profile.fullAddress=t.province+t.city+t.district+t.address,this.dialogTableVisible=!0},formatSex:function(e){switch(console.log(e),e.profile.sex){case 1:return"男";case"0":return"女";case"-1":return"其他"}}}},c=u,d=(a("5795"),a("2877")),f=Object(d["a"])(c,i,l,!1,null,"19d19730",null);t["default"]=f.exports},f00b:function(e,t,a){}}]);