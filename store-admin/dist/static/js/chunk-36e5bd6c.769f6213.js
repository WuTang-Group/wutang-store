(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-36e5bd6c"],{"1e4d":function(t,e,a){"use strict";var i=a("c810"),n=a.n(i);n.a},"4cfc":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("el-card",{staticClass:"box-card filter-container"},[a("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"输入分类名称"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleFilter(e)}},model:{value:t.listQuery.title,callback:function(e){t.$set(t.listQuery,"title",e)},expression:"listQuery.title"}}),a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{"margin-left":"20px"},attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.handleFilter}},[t._v(" "+t._s(t.$t("table.search"))+" ")])],1),a("el-card",{staticClass:"box-card box-card-centent",staticStyle:{"margin-top":"20px"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("router-link",{attrs:{to:{name:"CreateAssetImg",params:{status:"create",data:null}}}},[a("el-button",{directives:[{name:"waves",rawName:"v-waves"}]},[t._v("添加")])],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],key:t.tableKey,staticStyle:{width:"100%"},attrs:{data:t.list,border:"",fit:"","highlight-current-row":"","header-cell-style":{background:"#ebeef5"}}},[a("el-table-column",{attrs:{align:"center",type:"index","header-align":"center",label:"序号",width:"60"}}),a("el-table-column",{attrs:{align:"center","header-align":"center",label:"图片位置","show-overflow-tooltip":"",prop:"img_location",formatter:t.formatterLocation}}),a("el-table-column",{attrs:{align:"center","header-align":"center",label:"图片类型","show-overflow-tooltip":"",prop:"type"}}),a("el-table-column",{attrs:{align:"center","header-align":"center",label:"关联产品","show-overflow-tooltip":"",prop:"product.product_name"}}),a("el-table-column",{attrs:{align:"center","header-align":"center",label:"图片"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("el-image",{staticStyle:{width:"100px",height:"100px"},attrs:{src:i.img,fit:"scale-down"},on:{click:function(e){return t.previewImgAction(i.img)}}})]}}])}),t._v("ss "),a("el-table-column",{attrs:{"header-align":"center",label:"创建时间",prop:"created_at",align:"center"}}),a("el-table-column",{attrs:{"header-align":"center",label:"更新时间",prop:"updated_at",align:"center"}}),a("el-table-column",{attrs:{"header-align":"center",align:"center",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"编辑",placement:"top"}},[a("router-link",{attrs:{to:{name:"CreateAssetImg",params:{status:"edit",data:e.row}}}},[a("el-button",{staticStyle:{"margin-right":"5px"},attrs:{type:"primary",icon:"el-icon-edit",circle:""}})],1)],1),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"删除",placement:"top"}},[a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",circle:""},on:{click:function(a){return t.deleteConfirm(e.row.id)}}})],1)]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total>0"}],attrs:{total:t.total,page:t.listQuery.page,limit:t.listQuery.page_limit},on:{"update:page":function(e){return t.$set(t.listQuery,"page",e)},"update:limit":function(e){return t.$set(t.listQuery,"page_limit",e)},pagination:t.getList}})],1),a("el-dialog",{attrs:{title:"图片预览",visible:t.previewImgDialogVisible,width:"50%"},on:{"update:visible":function(e){t.previewImgDialogVisible=e}}},[a("el-image",{staticStyle:{width:"100%"},attrs:{src:t.previewImg}})],1)],1)},n=[],r=a("5759"),l=a("6724"),s=a("333d"),o={name:"AssetImgList",components:{Pagination:s["a"]},directives:{waves:l["a"]},data:function(){return{tableKey:0,list:null,total:0,listLoading:!0,listQuery:{page:1,page_limit:10},previewImg:"",previewImgDialogVisible:!1,showReviewer:!1,temp:{id:void 0,importance:1,remark:"",timestamp:new Date},isActive:!1}},created:function(){this.getList()},methods:{previewImgAction:function(t){this.previewImg=t,this.previewImgDialogVisible=!0},getList:function(){var t=this;this.listLoading=!0,Object(r["d"])(this.listQuery).then((function(e){t.list=e.data.data,t.total=e.data.total,t.listLoading=!1,console.log(t.list)}))},resetTemp:function(){this.temp={id:void 0,importance:1,remark:"",timestamp:new Date,title:"",status:"published",type:""}},deleteConfirm:function(t){var e=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(r["b"])(t).then((function(t){20001===t.code?(e.$message({message:"删除成功!",type:"success"}),e.getList()):e.$message({message:"删除失败！",type:"error"})}))})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))},handleFilter:function(){console.log("test")},handleMouseEnter:function(){this.isActive=!0},handleMouseMove:function(){this.isActive=!1},formatterLocation:function(t){switch(t.img_location){case 1:return"首页";default:return"其他"}}}},c=o,u=(a("1e4d"),a("2877")),d=Object(u["a"])(c,i,n,!1,null,"99446b48",null);e["default"]=d.exports},5759:function(t,e,a){"use strict";a.d(e,"d",(function(){return n})),a.d(e,"a",(function(){return r})),a.d(e,"b",(function(){return l})),a.d(e,"e",(function(){return s})),a.d(e,"f",(function(){return o})),a.d(e,"c",(function(){return c}));var i=a("b775");function n(t){return Object(i["a"])({url:"admin/asset_img",path:"get",params:t})}function r(t){return Object(i["a"])({url:"admin/asset_img",method:"post",data:t})}function l(t){return Object(i["a"])({url:"admin/asset_img/"+t,method:"delete"})}function s(){return Object(i["a"])({url:"admin/product/basic_info_list",method:"get"})}function o(t,e){return Object(i["a"])({url:"admin/asset_img/"+t,method:"post",data:e})}function c(t){return Object(i["a"])({url:"admin/enums/"+t,method:"get"})}},c810:function(t,e,a){}}]);