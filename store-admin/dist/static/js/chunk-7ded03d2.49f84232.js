(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7ded03d2"],{"09f4":function(e,t,i){"use strict";i.d(t,"a",(function(){return r})),Math.easeInOutQuad=function(e,t,i,a){return e/=a/2,e<1?i/2*e*e+t:(e--,-i/2*(e*(e-2)-1)+t)};var a=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}();function l(e){document.documentElement.scrollTop=e,document.body.parentNode.scrollTop=e,document.body.scrollTop=e}function s(){return document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop}function r(e,t,i){var r=s(),n=e-r,o=20,u=0;t="undefined"===typeof t?500:t;var c=function e(){u+=o;var s=Math.easeInOutQuad(u,r,n,t);l(s),u<t?a(e):i&&"function"===typeof i&&i()};c()}},"4c69":function(e,t,i){},d3a01:function(e,t,i){"use strict";var a=i("4c69"),l=i.n(a);l.a},e382:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"app-container user-container"},[i("el-card",{staticClass:"box-card filter-container"},[i("el-form",{attrs:{inline:!0,model:e.listQuery}},[i("el-form-item",{attrs:{label:"用户名"}},[i("el-input",{staticClass:"filter-item",staticStyle:{width:"240px"},attrs:{placeholder:"请输入查询的账号名称",clearable:""},model:{value:e.listQuery.username,callback:function(t){e.$set(e.listQuery,"username",t)},expression:"listQuery.username"}})],1),i("el-form-item",[i("el-button",{staticClass:"filter-item filter-search",attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.handleFilter}},[e._v(" 查询 ")])],1)],1)],1),i("el-card",{staticClass:"box-card box-card-content"},[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],attrs:{data:e.userlist,border:"",fit:"","highlight-current-row":"",height:e.tableHeight<500?500:e.tableHeight,"header-cell-style":{background:"#ebeef5"}},on:{"row-click":e.userProfileDiag}},[i("el-table-column",{attrs:{type:"index",align:"center",label:"序号",width:"80"}}),i("el-table-column",{attrs:{align:"center",label:"用户名","min-width":"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.username))])]}}])}),i("el-table-column",{attrs:{align:"center",label:"头像","min-width":"120"},scopedSlots:e._u([{key:"default",fn:function(e){return[i("img",{staticClass:"user-avatar",attrs:{src:e.row.avatar,alt:"avatar"}})]}}])}),i("el-table-column",{attrs:{align:"center","show-overflow-tooltip":"",label:"姓名","min-width":"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.name))])]}}])}),i("el-table-column",{attrs:{align:"center","show-overflow-tooltip":"",label:"邮箱","min-width":"240"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.email))])]}}])}),i("el-table-column",{attrs:{align:"center","show-overflow-tooltip":"",label:"电话","min-width":"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.phone))])]}}])}),i("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding",fixed:"right",width:"300"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row,l=t.$index;return[i("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(t){return e.editUserButton(a)}}},[e._v(" 编辑 ")]),i("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(t){return e.deleteUserButton(a,l)}}},[e._v(" 删除 ")])]}}])})],1),i("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.listQuery.page,limit:e.listQuery.page_limit},on:{"update:page":function(t){return e.$set(e.listQuery,"page",t)},"update:limit":function(t){return e.$set(e.listQuery,"page_limit",t)},pagination:e.getList}})],1),i("el-dialog",{attrs:{title:"用户详细信息",visible:e.dialogTableVisible},on:{"update:visible":function(t){e.dialogTableVisible=t}}},[i("el-form",{staticClass:"form-inline",attrs:{inline:!0,model:e.userDetail,disabled:"true","label-position":"right","label-width":"100px",size:"medium"}},[i("el-form-item",{attrs:{label:"用户名"}},[i("el-input",{model:{value:e.userDetail.username,callback:function(t){e.$set(e.userDetail,"username",t)},expression:"userDetail.username"}})],1),i("el-form-item",{attrs:{label:"姓名"}},[i("el-input",{model:{value:e.userDetail.name,callback:function(t){e.$set(e.userDetail,"name",t)},expression:"userDetail.name"}})],1),i("el-form-item",{attrs:{label:"性别"}},[i("el-input",{model:{value:e.userDetail.profile.sex,callback:function(t){e.$set(e.userDetail.profile,"sex",t)},expression:"userDetail.profile.sex"}})],1),i("el-form-item",{attrs:{label:"年龄"}},[i("el-input",{model:{value:e.userDetail.profile.age,callback:function(t){e.$set(e.userDetail.profile,"age",t)},expression:"userDetail.profile.age"}})],1),i("el-form-item",{attrs:{label:"电话号码"}},[i("el-input",{model:{value:e.userDetail.phone,callback:function(t){e.$set(e.userDetail,"phone",t)},expression:"userDetail.phone"}})],1),i("el-form-item",{attrs:{label:"邮箱"}},[i("el-input",{model:{value:e.userDetail.email,callback:function(t){e.$set(e.userDetail,"email",t)},expression:"userDetail.email"}})],1),i("el-form-item",{attrs:{label:"生日"}},[i("el-input",{model:{value:e.userDetail.profile.birthday,callback:function(t){e.$set(e.userDetail.profile,"birthday",t)},expression:"userDetail.profile.birthday"}})],1),i("el-form-item",{attrs:{label:"邮编"}},[i("el-input",{model:{value:e.userDetail.profile.zip,callback:function(t){e.$set(e.userDetail.profile,"zip",t)},expression:"userDetail.profile.zip"}})],1),i("el-form-item",{attrs:{label:"地址"}},[i("el-input",{staticStyle:{width:"400px"},model:{value:e.userDetail.profile.fullAddress,callback:function(t){e.$set(e.userDetail.profile,"fullAddress",t)},expression:"userDetail.profile.fullAddress"}})],1)],1)],1)],1)},l=[],s=(i("c975"),i("b0c0"),i("d3b7"),i("25f0"),i("5530")),r=i("2f62"),n=i("c24f"),o=i("333d"),u={name:"User",components:{Pagination:o["a"]},data:function(){return{listLoading:!1,userlist:[],listQuery:{page:1,page_limit:20,username:""},total:0,dialogTableVisible:!1,userDetail:{avatar:"",created_at:"",email:"",email_verified_at:"",hash_id:"",name:"",password_answer:"",password_question_id:"",phone:"",profile:{fullAddress:"",age:"",birthday:"",created_at:"",id:"",phone:"",real_name:"",sex:"",updated_at:"",user_id:"",zip:"",province:"",city:"",district:"",address:""}}}},computed:Object(s["a"])({},Object(r["d"])({tableHeight:function(e){return e.screenHeight-400}})),watch:{userDetail:function(e,t){var i=e.profile.sex;switch(i.toString()){case"0":return this.userDetail.profile.sex="女",this.userDetail.profile.sex;case"1":return this.userDetail.profile.sex="男",this.userDetail.profile.sex;case"-1":return this.userDetail.profile.sex="其他",this.userDetail.profile.sex}}},beforeRouteEnter:function(e,t,i){var a=["CreateUser","EditUser"];a.indexOf(t.name)>-1&&(e.meta.isBack=!0),i()},activated:function(){var e=this;e.$route.meta.isBack&&e.getUserList(),e.$route.meta.isBack=!1},created:function(){var e=this;e.getList()},methods:{getList:function(){var e=this,t=e.listQuery;e.listLoading=!0,Object(n["c"])(t).then((function(i){var a=i.data;console.log(a),a&&a.data&&a.data.length>0?(e.userlist=a.data,e.total=a.total):a&&a.data&&0===a.data.length&&(t.page>1?(t.page--,e.getList()):(e.userlist=[],e.total=0,e.$message({message:"暂无用户信息",type:"info"})))})).finally((function(){e.listLoading=!1}))},handleFilter:function(){var e=this;e.listQuery.page=1,e.getList()},editUserButton:function(e){var t=this,i={isEdit:"edit"};t.$router.push({path:"/user/edit/"+e.hash_id,query:i})},deleteUserButton:function(e,t){var i=this;i.$confirm("是否删除".concat(e.username,"用户?"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var t={username:e.username};Object(n["a"])(t).then((function(e){i.$message({type:"success",message:"删除成功!"}),i.getList()})).catch((function(){i.$message({type:"info",message:"删除失败"})}))})).catch((function(){i.$message({type:"info",message:"已取消删除"})}))},userProfileDiag:function(e){this.userDetail=e;var t=e.profile;this.userDetail.profile.fullAddress=t.province+t.city+t.district+t.address,this.dialogTableVisible=!0},formatSex:function(e){switch(console.log(e),e.profile.sex){case 1:return"男";case"0":return"女";case"-1":return"其他"}}}},c=u,d=(i("d3a01"),i("2877")),f=Object(d["a"])(c,a,l,!1,null,"2fd312e7",null);t["default"]=f.exports}}]);