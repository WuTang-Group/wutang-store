(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d2ca1870"],{3526:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"app-container"},[i("el-card",{staticClass:"box-card",staticStyle:{padding:"0 30px"}},[i("el-form",{ref:"form",attrs:{model:t.form,"label-position":"left"}},[i("el-row",{attrs:{gutter:10}},[i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"图片位置",prop:"img_location"}},[i("el-input",{staticStyle:{width:"250px"},model:{value:t.form.img_location,callback:function(e){t.$set(t.form,"img_location",e)},expression:"form.img_location"}})],1)],1)],1),i("el-row",{attrs:{gutter:10}},[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"图片"}},[i("el-upload",{ref:"uploadImg",class:{hideImg:t.hideUploadImg},attrs:{name:"img",action:"#","list-type":"picture-card","auto-upload":!1,limit:t.limitCount,"file-list":t.imgList,"on-change":t.handleImgChange,"on-remove":t.handleImgRemove}},[i("el-button",{attrs:{size:"small",plain:"",type:"primary"}},[t._v("点击上传")]),i("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传一张jpg/png文件，且不超过500kb")])],1)],1)],1)],1),i("el-row",{staticStyle:{"margin-bottom":"50px"}},[i("el-col",{attrs:{span:2,offset:8}},[i("el-button",{attrs:{type:"success"},on:{click:function(e){return t.updateValue()}}},[t._v("提交")])],1),i("el-col",{attrs:{span:2}},[i("el-button",{attrs:{type:"info",plain:""},on:{click:t.closePageButton}},[t._v("返回")])],1)],1)],1)],1)],1)},o=[],n=i("5759"),s={name:"CreateAssetImg",data:function(){return{flag:"",form:{img:"",img_location:""},hideUploadImg:!1,limitCount:1,imgList:[]}},watch:{},created:function(){},methods:{updateValue:function(){var t=this;console.log(this.form);var e=new FormData;e.append("img",this.form.img),e.append("img_location",this.form.img_location),Object(n["a"])(e).then((function(e){20001===e.code?(t.$message({message:"图片添加成功！",type:"success"}),t.initFormData()):t.$message({message:"图片添加失败，请检查输入参数！",type:"error"})}))},initFormData:function(){this.$refs["form"].resetFields(),this.imgList=[],this.hideUploadImg=!1},handleImgChange:function(t,e){this.hideUploadImg=e.length>=this.limitCount,this.form.img=t.raw},handleImgRemove:function(t,e){this.hideUploadImg=e.length>=this.limitCount,this.form.img=null},closePageButton:function(){this.$store.dispatch("tagsView/delView",this.$route),this.$router.go(-1)}}},l=s,r=(i("7ee1"),i("2877")),m=Object(r["a"])(l,a,o,!1,null,null,null);e["default"]=m.exports},5759:function(t,e,i){"use strict";i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return n})),i.d(e,"b",(function(){return s}));var a=i("b775");function o(t){return Object(a["a"])({url:"admin/asset_img",path:"get",params:t})}function n(t){return Object(a["a"])({url:"admin/asset_img",method:"post",data:t})}function s(t){return Object(a["a"])({url:"admin/asset_img/"+t,method:"delete"})}},"7ee1":function(t,e,i){"use strict";var a=i("b691"),o=i.n(a);o.a},b691:function(t,e,i){}}]);